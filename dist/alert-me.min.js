angular.module("alert-me",[]).run(function($document,$templateCache){var mainTmpl='<div class="tm-container {{posV}} {{posH}}"><ul class="tm-nav" ><alert-message ng-repeat="message in messages" message="message"></alert-message></ul></div>',listTmpl='<li class="tm-list" ng-click="clickEvent($event)"><div class="tm-alert {{message.className}}"><span ng-show="message.count > 1" class="count" ng-bind="message.count"></span><span ng-if="message.title" class="title" ng-bind="message.title"></span><span ng-if="message.isTrustedHtml" class="content" ng-bind-html="message.content"></span><span ng-if="!message.isTrustedHtml" class="content" ng-bind="message.content"></span><span ng-if="message.dismissButton" class="close" ng-click="closeAlert()">X</span></div></li>';return $templateCache.put("alert-me/main-template.html",mainTmpl),$templateCache.put("alert-me/list-template.html",listTmpl),$document.find("alert-me").length?void 0:$document[0].body.appendChild($document[0].createElement("alert-me"))}).directive("alertMe",function(AlertMe){function link(scope,elem,attrs){scope.messages=AlertMe.messages,scope.posH=AlertMe.defaults.horizontalPosition,scope.posV=AlertMe.defaults.verticalPosition}var directive={restrict:"E",templateUrl:"alert-me/main-template.html",link:link};return directive}).directive("alertMessage",function($timeout,$q,$sce,$location,AlertMe){function link(scope,element,attrs,ctrl,transclude){var promise;return scope.closeAlert=function(){return AlertMe.dismiss(scope.message.id)},scope.clickEvent=function(e){return scope.message.dismissOnClick?scope.closeAlert():void 0},scope.message.resolve&&angular.isFunction(scope.message.resolve)?$q.when(scope.message.resolve(),scope.closeAlert):(scope.message.dismissOnTimeout&&(promise=$timeout(function(){return scope.closeAlert()},1e3*scope.message.dismissTimeout),element.bind("mouseenter",function(e){$timeout.cancel(promise)}),element.bind("mouseleave",function(e){promise=$timeout(function(){return scope.closeAlert()},1e3*scope.message.dismissTimeout)})),void scope.$watch("message.count",function(n,o){o!==n&&n>1&&scope.message.dismissOnTimeout&&($timeout.cancel(promise),promise=$timeout(function(){return scope.closeAlert()},1e3*scope.message.dismissTimeout))}))}var scope={message:"="},directive={restrict:"E",replace:!0,scope:scope,templateUrl:"alert-me/list-template.html",link:link};return directive}).factory("AlertMe",function($sce,$q){function _configure(params){angular.forEach(params,function(key,val){defaults.hasOwnProperty(val)&&(defaults[val]=key)})}function _create(msg){if(msg="object"==typeof msg?msg:{content:msg},msg=angular.extend({},defaults,msg),!angular.isFunction(msg.onBeforeCreate(msg))||msg.onBeforeCreate(msg)){if(msg.count=1,msg.className=msg.className?msg.className:defaults.className,msg.maxNum&&messages.length>=msg.maxNum&&"top"===msg.verticalPosition?this.dismiss(messages[0].id):msg.maxNum&&messages.length>=msg.maxNum&&"bottom"===msg.verticalPosition&&this.dismiss(messages[messages.length-1].id),msg.combineDuplications)for(var i=0;i<messages.length;i++)if(messages[i].content==msg.content&&messages[i].className==msg.className)return messages[i].count++;return msg.id="ID:"+Date.now()+Math.floor(10*Math.random()+1),msg.content=msg.isTrustedHtml?$sce.trustAsHtml(msg.content):msg.content,"bottom"===msg.verticalPosition?messages.unshift(msg):messages.push(msg),msg.onAfterCreate&&angular.isFunction(msg.onAfterCreate)&&msg.onAfterCreate(),msg.id}}function _dismiss(id){for(var i=0;i<messages.length;i++)if(messages[i].id==id){var message=angular.copy(messages[i]);if(messages.splice(i,1),angular.isFunction(message.onDismiss))return message.onDismiss(message)}}function _info(msg){return this.create({content:msg,className:"info"})}function _success(msg){return this.create({content:msg,className:"success"})}function _warning(msg){return this.create({content:msg,className:"warning"})}function _danger(msg){return this.create({content:msg,className:"danger"})}var messages=[],defaults={maxNum:0,verticalPosition:"top",horizontalPosition:"right",className:"default",isTrustedHtml:!1,combineDuplications:!0,dismissButton:!1,dismissOnTimeout:!1,dismissTimeout:4,dismissOnClick:!1,onBeforeCreate:function(msg){return!0},onAfterCreate:null,onBeforeDismiss:null,onDismiss:null},service={defaults:defaults,configure:_configure,messages:messages,create:_create,dismiss:_dismiss,info:_info,success:_success,warning:_warning,danger:_danger};return service});